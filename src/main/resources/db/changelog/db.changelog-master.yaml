databaseChangeLog:
  - include:
      file: db/changelog/changelog-001-create-tables.yaml
  - changeSet:
      id: 002-insert-data
      author: kalinchak_ruslan
      changes:
        - loadData:
            file: db/changelog/data/parking_lots.csv
            tableName: parking_lots
            separator: ","
        - sql:
            dbms: postgresql
            sql: "SELECT setval('parking_lots_id_seq', (SELECT COALESCE(MAX(id),0) FROM parking_lots));"
        - loadData:
            file: db/changelog/data/parking_levels.csv
            tableName: parking_levels
            separator: ","
        - sql:
            dbms: postgresql
            sql: "SELECT setval('parking_levels_id_seq', (SELECT COALESCE(MAX(id),0) FROM parking_levels));"
        - loadData:
            file: db/changelog/data/parking_slots.csv
            tableName: parking_slots
            separator: ","
        - sql:
            dbms: postgresql
            sql: "SELECT setval('parking_slots_id_seq', (SELECT COALESCE(MAX(id),0) FROM parking_slots));"
        - loadData:
            file: db/changelog/data/vehicles.csv
            tableName: vehicles
            separator: ","
        - loadData:
            file: db/changelog/data/check_in_tickets.csv
            tableName: check_in_tickets
            separator: ","
        - sql:
            dbms: postgresql
            sql: "SELECT setval('check_in_tickets_id_seq', (SELECT COALESCE(MAX(id),0) FROM check_in_tickets));"